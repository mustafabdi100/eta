{% extends 'base.html' %}
{% load static %}

{% block content %}

<style> .review-container { max-width: 800px; margin: 0 auto; padding: 2rem; background-color: #f7fafc; } .review-header { margin-bottom: 2rem; } .review-header h2 { font-size: 2rem; color: #2d3748; margin-bottom: 0.5rem; } .card { background: white; border-radius: 0.5rem; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); } .detail-item { display: flex; align-items: center; margin-bottom: 1rem; border: 1px solid #e2e8f0; border-radius: 0.25rem; padding: 0.75rem; } .detail-label { font-weight: 600; color: #4a5568; min-width: 240px; } .detail-value { font-weight: 700; color: #2d3748; } .attachments { display: flex; flex-wrap: wrap; gap: 1rem; } .attachments img { width: 100px; height: auto; border-radius: 0.25rem; } .attachments a { display: inline-block; } .contact-list, .credit-card-list { padding-left: 0; list-style: none; } .contact-list li, .credit-card-list li { background: white; margin-bottom: 0.5rem; padding: 0.75rem; border-radius: 0.25rem; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); } .buttons { display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; margin-bottom: 2rem; } .buttons button { padding: 0.5rem 1rem; border: none; border-radius: 0.25rem; cursor: pointer; } .buttons button[name="approve"] { background-color: #38a169; color: white; } .buttons button[name="reject"] { background-color: #e53e3e; color: white; } .back-link { display: block; text-align: center; margin-top: 2rem; } .back-link button { padding: 0.5rem 1rem; border: none; border-radius: 0.25rem; background-color: #3182ce; color: white; cursor: pointer; } @media screen and (max-width: 768px) { .review-container { padding: 1rem; } .detail-item { flex-direction: column; align-items: flex-start; } .detail-label { min-width: unset; margin-bottom: 0.5rem; } .attachments { justify-content: center; } } </style> <div class="review-container"> <div class="review-header"> <h2>Review Application</h2> </div> <div class="card"> <div class="detail-item"> <p class="detail-label">Business Name:</p> <p class="detail-value">{{ application.business_name }}</p> </div> <div class="detail-item"> <p class="detail-label">Reference Number:</p> <p class="detail-value">{{ application.reference_number }}</p> </div> <div class="detail-item"> <p class="detail-label">Registration Number:</p> <p class="detail-value">{{ application.registration_number }}</p> </div> <div class="detail-item"> <p class="detail-label">KRA PIN:</p> <p class="detail-value">{{ application.kra_pin }}</p> </div> <div class="detail-item"> <p class="detail-label">Business Address:</p> <p class="detail-value">{{ application.business_address }}</p> </div> <div class="detail-item"> <p class="detail-label">City:</p> <p class="detail-value">{{ application.city }}</p> </div> <div class="detail-item"> <p class="detail-label">Country:</p> <p class="detail-value">{{ application.country }}</p> </div> <div class="detail-item"> <p class="detail-label">Phone Number:</p> <p class="detail-value">{{ application.phone_number }}</p> </div> <div class="detail-item"> <p class="detail-label">Email Address:</p> <p class="detail-value">{{ application.email_address }}</p> </div> <div class="attachments"> <div> <p class="detail-label">Registration Certificate:</p> {% if application.registration_certificate %} <a href="{{ application.registration_certificate.url }}" target="_blank"> <img src="{% static 'images/pdf-placeholder.png' %}" alt="Registration Certificate"> </a> {% else %} <p>No file uploaded</p> {% endif %} </div> <div> <p class="detail-label">Trading License:</p> {% if application.trading_license %} <a href="{{ application.trading_license.url }}" target="_blank"> <img src="{% static 'images/pdf-placeholder.png' %}" alt="Trading License"> </a> {% else %} <p>No file uploaded</p> {% endif %} </div> <div> <p class="detail-label">Tax Compliance Certificate:</p> {% if application.tax_compliance_certificate %} <a href="{{ application.tax_compliance_certificate.url }}" target="_blank"> <img src="{% static 'images/pdf-placeholder.png' %}" alt="Tax Compliance Certificate"> </a> {% else %} <p>No file uploaded</p> {% endif %} </div> </div> </div> <!-- Contact Persons Section --> <h3>Contact Persons</h3> <ul class="contact-list"> {% for contact in application.contact_persons.all %} <li> <div class="detail-item"> <p class="detail-label">First Name:</p> <p class="detail-value">{{ contact.first_name }}</p> </div> <div class="detail-item"> <p class="detail-label">Last Name:</p> <p class="detail-value">{{ contact.last_name }}</p> </div> <div class="detail-item"> <p class="detail-label">Mobile Number:</p> <p class="detail-value">{{ contact.mobile_number }}</p> </div> <div class="detail-item"> <p class="detail-label">Email Address:</p> <p class="detail-value">{{ contact.email_address }}</p> </div> </li> {% endfor %} </ul> <!-- Credit Cards Section --> <h3>Credit Cards</h3> <ul class="credit-card-list"> {% for card in application.credit_cards.all %} <li> <div class="detail-item"> <p class="detail-label">Card Type:</p> <p class="detail-value">{{ card.card_type }}</p> </div> <div class="detail-item"> <p class="detail-label">Last 8 Digits:</p> <p class="detail-value">XXXX XXXX XXXX {{ card.last_8_digits }}</p> </div> </li> {% endfor %} </ul> <!-- Action Buttons -->
{% if not is_rejected %}
<div class="buttons">
<form method="post">
{% csrf_token %}
{% if application.status != 'approved' %}
<button type="submit" name="approve" value="true">Approve</button>
{% endif %}
<button type="submit" name="reject" value="true">Reject</button>
</form>
</div>
{% endif %}

<div class="back-link"> <a href="{% url 'dashboard_view' %}"> <button>Back to Dashboard</button> </a> </div> </div>
{% endblock %}